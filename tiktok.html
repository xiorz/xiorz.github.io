<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok Info</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            padding: 20px;
        }
        .container {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            margin: auto;
        }
        .title {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            text-align: center;
        }
        .profile-info {
            margin-top: 20px;
            color: #333;
        }
        .profile-info span {
            font-weight: bold;
        }
        .profile-info p {
            margin: 5px 0;
        }
        .avatar img {
            max-width: 150px;
            border-radius: 50%;
            margin-top: 10px;
        }
        .error {
            color: red;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">Tiktok Info</h1>
        <div>
            <input type="text" id="username" placeholder="Enter TikTok Username" style="width: 100%; padding: 10px;">
            <button onclick="getTikTokInfo()" style="padding: 10px; background-color: #4CAF50; color: white; border: none; width: 100%; margin-top: 10px;">Get Info</button>
        </div>
        <div id="result" class="profile-info"></div>
        <div class="avatar" id="avatar"></div>
        <div id="error-message" class="error"></div>
    </div>

    <script>
        function getTikTokInfo() {
            var username = document.getElementById('username').value.trim();
            if (!username) {
                alert("Please enter a username.");
                return;
            }

            fetch(`https://www.tiktok.com/@${username}`)
                .then(response => response.text())
                .then(html => {
                    let nickname = html.match(/"nickname":"(.*?)"/);
                    let signature = html.match(/"signature":"(.*?)"/);
                    let followers = html.match(/"followerCount":(\d+)/);
                    let following = html.match(/"followingCount":(\d+)/);
                    let likes = html.match(/"heartCount":(\d+)/);
                    let videos = html.match(/"videoCount":(\d+)/);
                    let avatar = html.match(/"avatarLarger":"(.*?)"/);
                    let verified = html.match(/"verified":(true|false)/);

                    let resultHtml = '';
                    if (nickname) resultHtml += `<p><span>Nama:</span> ${nickname[1]}</p>`;
                    if (signature) resultHtml += `<p><span>Bio:</span> ${signature[1]}</p>`;
                    if (followers) resultHtml += `<p><span>Followers:</span> ${followers[1]}</p>`;
                    if (following) resultHtml += `<p><span>Following:</span> ${following[1]}</p>`;
                    if (likes) resultHtml += `<p><span>Likes:</span> ${likes[1]}</p>`;
                    if (videos) resultHtml += `<p><span>Videos Uploaded:</span> ${videos[1]}</p>`;
                    resultHtml += `<p><span>Verified:</span> ${verified && verified[1] === 'true' ? 'Yes' : 'No'}</p>`;
                    resultHtml += `<p><span>Profile:</span> <a href="https://www.tiktok.com/@${username}" target="_blank">Visit Profile</a></p>`;

                    document.getElementById('result').innerHTML = resultHtml;

                    if (avatar) {
                        document.getElementById('avatar').innerHTML = `<img src="${avatar[1]}" alt="Avatar">`;
                    }

                    document.getElementById('error-message').innerHTML = '';
                })
                .catch(error => {
                    console.error("Error:", error);
                    document.getElementById('error-message').innerHTML = "Failed to retrieve data. Please try again.";
                    document.getElementById('result').innerHTML = '';
                    document.getElementById('avatar').innerHTML = '';
                });
        }
    </script>
</body>
</html>
